<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="../../css/style.css" />
  
</head>
<body>
	
<div class="container_top">
<div id="left_top"></div>
<div id="middle_top">	
<h1><div class="post-title">Chapter 5. Working with Strings</div></h1>
<h3>字符类型：</h3>
<ul>
<li>binary strings</li>
<ul><li>BINARY</li>
<li>VARBINARY</li>
<li>BLOB</li>

</ul>
<li>nonbinary strings</li>
<ul><li>CHAR</li>
<li>VARCHAR</li>
<li>TEXT</li>
</ul>
</ul>
<p>查看nobinary 字符集</p>
<div class="mycontent"><ul>
<li>mysql> SHOW CHARACTER SET;</li>
</ul></div>
<p>查看string 占用字节数</p>
<div class="mycontent"><ul>
<li>mysql&gt;&nbsp;SET&nbsp;@s&nbsp;=&nbsp;CONVERT('abc'&nbsp;USING&nbsp;utf8);</li>
<li>mysql&gt;&nbsp;SELECT&nbsp;LENGTH(@s),&nbsp;CHAR_LENGTH(@s);</li>
<li>+------------+-----------------+</li>
<li>|&nbsp;LENGTH(@s)&nbsp;|&nbsp;CHAR_LENGTH(@s)&nbsp;|</li>
<li>+------------+-----------------+</li>
<li>|&nbsp;3&nbsp;|&nbsp;3&nbsp;|</li>
<li>+------------+-----------------+</li>
<li>&nbsp;</li>
<li>mysql&gt;&nbsp;SET&nbsp;@s&nbsp;=&nbsp;CONVERT('abc'&nbsp;USING&nbsp;ucs2);</li>
<li>mysql&gt;&nbsp;SELECT&nbsp;LENGTH(@s),&nbsp;CHAR_LENGTH(@s);</li>
<li>+------------+-----------------+</li>
<li>|&nbsp;LENGTH(@s)&nbsp;|&nbsp;CHAR_LENGTH(@s)&nbsp;|</li>
<li>+------------+-----------------+</li>
<li>|&nbsp;6&nbsp;|&nbsp;3&nbsp;|</li>
<li>+------------+-----------------+</li>
</ul></div>
<p>查看支持collation(SHOW CHARACTER SET)</p>
<div class="mycontent"><ul>
<li>mysql&gt;&nbsp;SHOW&nbsp;COLLATION&nbsp;LIKE&nbsp;'latin1%';</li>
<li>+-------------------+---------+----+---------+----------+---------+</li>
<li>|&nbsp;Collation&nbsp;|&nbsp;Charset&nbsp;|&nbsp;Id&nbsp;|&nbsp;Default&nbsp;|&nbsp;Compiled&nbsp;|&nbsp;Sortlen&nbsp;|</li>
<li>+-------------------+---------+----+---------+----------+---------+</li>
<li>|&nbsp;latin1_german1_ci&nbsp;|&nbsp;latin1&nbsp;|&nbsp;5&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>|&nbsp;latin1_swedish_ci&nbsp;|&nbsp;latin1&nbsp;|&nbsp;8&nbsp;|&nbsp;Yes&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>|&nbsp;latin1_danish_ci&nbsp;|&nbsp;latin1&nbsp;|&nbsp;15&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>|&nbsp;latin1_german2_ci&nbsp;|&nbsp;latin1&nbsp;|&nbsp;31&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;2&nbsp;|</li>
<li>|&nbsp;latin1_bin&nbsp;|&nbsp;latin1&nbsp;|&nbsp;47&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>|&nbsp;latin1_general_ci&nbsp;|&nbsp;latin1&nbsp;|&nbsp;48&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>|&nbsp;latin1_general_cs&nbsp;|&nbsp;latin1&nbsp;|&nbsp;49&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>|&nbsp;latin1_spanish_ci&nbsp;|&nbsp;latin1&nbsp;|&nbsp;94&nbsp;|&nbsp;|&nbsp;Yes&nbsp;|&nbsp;1&nbsp;|</li>
<li>+-------------------+---------+----+---------+----------+---------+</li>
</ul></div>
<p style="color:red">字符集分别以_ci, _cs, or _bin结尾，分别指：大小写不明感（case insensitive），大小写敏感（case sensitive），二进制（binary）</p>
<p>例：(utf8 默认collation：utf8_general_ci)</p>
<div class="mycontent"><ul>
<li>mysql&gt;&nbsp;CREATE&nbsp;TABLE&nbsp;t&nbsp;(c&nbsp;CHAR(3)&nbsp;CHARACTER&nbsp;SET&nbsp;latin1);</li>
<li>mysql&gt;&nbsp;INSERT&nbsp;INTO&nbsp;t&nbsp;(c)&nbsp;VALUES('AAA'),('bbb'),('aaa'),('BBB');</li>
<li>mysql&gt;&nbsp;SELECT&nbsp;c&nbsp;FROM&nbsp;t;</li>
<li>+------+</li>
<li>|&nbsp;c&nbsp;|</li>
<li>+------+</li>
<li>|&nbsp;AAA&nbsp;|</li>
<li>|&nbsp;bbb&nbsp;|</li>
<li>|&nbsp;aaa&nbsp;|</li>
<li>|&nbsp;BBB&nbsp;|</li>
<li>+------+</li>
<li>&nbsp;</li>
<li>mysql&gt;&nbsp;SELECT&nbsp;c&nbsp;FROM&nbsp;t&nbsp;ORDER&nbsp;BY&nbsp;c&nbsp;COLLATE&nbsp;latin1_swedish_ci;</li>
<li>+------+</li>
<li>|&nbsp;c&nbsp;|</li>
<li>+------+</li>
<li>|&nbsp;AAA&nbsp;|</li>
<li>|&nbsp;aaa&nbsp;|</li>
<li>|&nbsp;bbb&nbsp;|</li>
<li>|&nbsp;BBB&nbsp;|</li>
<li>+------+</li>
<li>&nbsp;</li>
<li>mysql&gt;&nbsp;SELECT&nbsp;c&nbsp;FROM&nbsp;t&nbsp;ORDER&nbsp;BY&nbsp;c&nbsp;COLLATE&nbsp;latin1_general_cs;</li>
<li>+------+</li>
<li>|&nbsp;c&nbsp;|</li>
<li>+------+</li>
<li>|&nbsp;AAA&nbsp;|</li>
<li>|&nbsp;aaa&nbsp;|</li>
<li>|&nbsp;BBB&nbsp;|</li>
<li>|&nbsp;bbb&nbsp;|</li>
<li>+------+</li>
<li>&nbsp;</li>
<li>ql&gt;&nbsp;SELECT&nbsp;c&nbsp;FROM&nbsp;t&nbsp;ORDER&nbsp;BY&nbsp;c&nbsp;COLLATE&nbsp;latin1_bin;</li>
<li>+------+</li>
<li>|&nbsp;c&nbsp;|</li>
<li>+------+</li>
<li>|&nbsp;AAA&nbsp;|</li>
<li>|&nbsp;BBB&nbsp;|</li>
<li>|&nbsp;aaa&nbsp;|</li>
<li>|&nbsp;bbb&nbsp;|</li>
<li>+------+</li>
</ul></div>
<h3>选择字符数据类型</h3>
<table>
<tr>
<th>Binary data type</th>
<th>Nonbinary data type</th>
<th>Maximum length</th>
</tr>
<tr>
<td>BINARY</td>
<td>CHAR</td>
<td>255</td>
</tr>
<tr>
<td>VARBINARY</td>
<td>VARCHAR</td>
<td>65,535</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>TINYTEXT</td>
<td>255</td>
</tr>
<tr>
<td>BLOB</td>
<td>TEXT</td>
<td>65,535</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>MEDIUMTEXT</td>
<td>16,777,215</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>LONGTEXT</td>
<td>4,294,967,295</td>
</tr>
</table>





</div>
</div>

</body>
</html>
