<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="../css/style.css" />
  
</head>
<body>
	
<div class="container_top">
	<div id="left_top">
	</div>
<div id="middle_top">	
  <h1><div class="post-title">Chapter 6. Sed Hold and Pattern Space Commands</div></h1>
<p>sed的保留空间和模式空间<p>
<ul>
  <li>pattern space（模式空间）相当于车间sed把流内容在这里处理；</li>
  <li>hold space（保留空间）相当于仓库，加工的半成品在这里临时储存（当然加工完的成品也在这里存储）。</li>
</ul>
<h2>Swap Pattern Space with Hold Space (x command)</h2>
  <p>交换H空间和P空间里面的内容</p>
  <div class="codeeara">
    <ul>
      <li>[root@localordb sed_test]# sed  -e 'x;n' empnametitle.txt</li>
      <li></li>
      <li>CEO</li>
      <li>John Doe</li>
      <li>IT Manager</li>
      <li>Jason Smith</li>
      <li>Sysadmin</li>
      <li>Raj Reddy</li>
      <li>Developer</li>
      <li>Anand Ram</li>
      <li>Sales Manager</li>
      <li></li>
      <li>[root@localordb sed_test]# cat empnametitle.txt</li>
      <li>John Doe</li>
      <li>CEO</li>
      <li>Jason Smith</li>
      <li>IT Manager</li>
      <li>Raj Reddy</li>
      <li>Sysadmin</li>
      <li>Anand Ram</li>
      <li>Developer</li>
      <li>Jane Miller</li>
      <li>Sales Manager</li>
    </ul>
  </div>
	<p>sed ‘x;N’ employee.txt 步骤分析</p>
	<img src="../img/sed_x_n.png" alt="sed 'x;N' employee.txt" />
	
	<h2> Copy Pattern Space to Hold Space (h command)</h2>
	<p>拷贝P空间到H空间</p>
	<p>Print the names of the managers(输出managers的名字)</p>
	<div class="codeeara">
		<ul>
			<li># sed -n -e '/Manager/!h' -e '/Manager/{x;p}' empnametitle.txt</li>
			<li>Jason Smith</li>
			<li>Jane Miller</li>
		</ul>
	</div>
	<ul>
		<li>/Manager/!h 不匹配Manager的行拷贝到H空间</li>
		<li>/Manager/{x;p} 匹配到Manager后，交换H空间的内容，并输出</li>
	</ul>
	<h3>Append Pattern Space to Hold Space (H command)</h3>
	<p>添加P空间到H空间</p>
	<h3>Copy Hold Space to Pattern Space (g command)</h3>
	<p>get从H空间复制到P空间</p>
	<h3>Append Hold Space to Pattern Space (G command)</h3>
	<p>添加P空间到H空间</p>
	
	
	
</div>
</div>
</body>
</html>
